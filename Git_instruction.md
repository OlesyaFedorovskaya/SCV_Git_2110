![Logo](git_logo.png)

# Работа с Git

## 1. Проверка наличия установленного Git

В терминале выполнить команду `git version`.
Если Git установлен, появится сообщение с информацией версии программы. Иначе будет сообщение об ошибке

## 2. Установка Git

Загружаем последнюю версию Git с сайта
https://git-scm.com/downloads
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git

При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале 2 команды:
```
git config --global user.name "Имя пользователя"
git config --global user.email "почта@pochta.com"
```
## 4. Инициализация репозитория

Теперь вы готовы к работе с Git локально на компьютере.
Создадим наш первый репозиторий. Для этого пройдите в папку вашего проекта.
```
Для Linux и MacOS путь может выглядеть например так:
/Users/UserName/Desktop/MyProject
Для Windows например так: 
C:/Users/User/Desktop/MyProject 
или 
С://MyProject
```
Далее в терминале вводим команду `git init`, которая инициализирует пустой репозиторий в текущем местоположении, путем добавления своей собственной системной папки.

Существует еще один способ получить репозиторий. Для этого нужно клонировать уже существующий репозиторий из любого места. Сделать это можно так:
```
git clone <адрес репозитория>
```
## 5. Запись изменений в репозиторий

Каждый файл в рабочей папке(репозитории) может находиться в одном из двух состояний: под версионным контролем (отслеживаемые) и нет (неотслеживаемые).

Отслеживаемые файлы могут быть неизмененными, измененными или подготовленными к коммиту.

Для того, чтобы определить текущее состояние нашего репозитория, необходимо ввести команду `git status`. С её помощью можно проверить индексацию изменений и увидеть файлы, которые не отслеживаются Git. 
На данный момент команда `git status` покажет нам, что наш репозиторий всё еще не отслеживается.

Далее создадим файл с помощью команды `touch`и введем название файла, в котором после точки обязательно укажем расширение/формат файла. Например:
```
touch Git_instruction.md или touch test.txt
```
Далее проверим статус нашего репозитория с помощью команды `git status` и увидим, что в нашем репозитории появился новый файл, который на данный момент так же не проиндексирован.

Для того, чтобы добавить файл в раздел проиндексированных файлов Git, необходимо ввести команду `git add` далее указать имя файла с расширением.  
Для того чтобы не вводить каждый раз имя файла вручную, можно после команды `git add` указать 2-3 первых символа названия файла и нажать `Tab`.    
`Tab` в данном случае допишет название файла автоматически. Например:
```
git add Git и нажимаем Tab, далее нажимаем enter
```
Будьте внимательны с файлами, у которых похожие названия. В таких случаях стоит ввести чуть больше символов из названия, прежде чем нажать `Tab` или ввести название полностью вручную, чтобы не было ошибок.

Теперь наш файл проиндексирован, но репозиторий всё ещё не отслеживается.

Создадим наш первый коммит с помощью команды `git commit -m "initial commit"`

Сообщение _**"Initial commit"**_ обычно почти всегда используется для создания первого коммита.

Если мы введем команду `git commit`, то откроется текстовый редактор. В редакторе мы должны ввести сообщение, которое будет прикрепленно к коммиту.  

Для того, чтобы ввести сообщение в редакторе, необходимо нажать клавишу `I` (insert - вставка), далее ввести сообщение, а после ввода нажать на `Escape` и ввести `:wq` для того, чтобы наше сообщение сохранилось и редактор закрылся.

Флаг сообщения `-m` (message) добавляют к команде `git commit` для того, чтобы не открывался текстовый редактор, а комментарий вводился непосредственно после команды в кавычках.

Флаг сообщения `-a` после команды `git commit` заменяет нам сразу 2 команды - `git add` + `git commit` и выполняет те же действия, что и 2 этих команды. 

Если же мы после команды `git commit` поставим сразу 2 флага, например 
```
git commit -am "initial commit"
``` 
то данная комбинация заменит нам команды `git add` + `git commit -m`
Коментарий в кавычках _**"initial commit"**_ необходимо ввести в любом варианте использования команд.

В случае ошибки в последнем коммите, мы можем использовать флаг `--amend` после команды `git commit`, и внести изменения в коментарий последнего коммита с помощью окна текстового редактора.  
Если к команде `git commit --amend` добавить флаг `-am` то редактор не откроется, а изменения мы внесем в конце команды в кавычках. Например:
```
git commit --amend -am "Внесли изменения в раздел"
```
После индексации и создания первого коммита наш репозиторий начал отслеживаться.

Рекомендую создавать коммиты после каждых внесенных изменений, чтобы не потерять важную информацию и зафиксировать изменения.

Для того, чтобы посмотреть разницу между изменениями в коммитах используйте команду `git diff`, она дает возможность сравнить например: рабочую копию и индекс, любые доступные коммиты, любые доступные ветки.

## 6. Просмотр истории коммитов

После того, как вы создали несколько коммитов, вам может понадобиться возможность посмотреть что было сделано - историю коммитов. в этом вам поможет команда `git log`.  
По умолчанию команда `git log` перечисляет коммиты, сделанные в репозитории, в обратном к хронологическому порядке, т.е. последние коммиты находятся вверху.
```
git log
```
По умолчанию команда `git log` перечисляет коммиты (с их хэш-кодами, именем и электронной почтой автора, датой создания и сообщением коммита), сделанные в репозитории, в обратном к хронологическому порядке, т.е. последние коммиты находятся вверху.

Команда `git log` имеет очень большое количество опций для поиска коммитов по разным критериям. Рассмотрим наиболее популярные из них.

Одним из самых полезных флагов является `-p` или `--patch`, который показывает разницу (выводит патч), внесенную в каждый коммит.   
```
git log -p
git log --patch
```
Так же вы можете ограничить количество записей в выводе команды; используйте параметр `-2` для вывода только двух записей. Цифра **2** в данном случае означает желаемое количество строк для отображения. Например:
```
git log --patch
git log -2
git log -3
```
Опция `--oneline` выводит каждый коммит в одну строку, что может быть очень удобным если вы просматриваете большое количество коммитов. Например:
```
git log --oneline
git log --oneline -2
git log --oneline -3
```

## 7. Перемещение между сохранениями

Перемещаться между коммитами, файлами и ветками, нам позволяет команда `git checkout`.  
После того как вы нашли ссылку на нужный коммит в истории, для перехода к нему можно использовать команду `git checkout`. Команда `git checkout` — это простой способ «загрузить» любое из этих сохранений на ваш компьютер. 

Для возврата к последнему коммиту нужно ввести команду `git checkout main` или команду `git checkout` и несколько символов из индекса последнего коммита.

## 8. Ветвление в Git

Команда `git branch` — главный инструмент для работы с ветвлением. С ее помощью можно добавлять новые ветки, перечислять и переименовывать существующие и удалять их.

Чтобы создать в Git новую ветку необходимо ввести команду `git branch` и далее название ветки. Например:
```
git branch editing
```
где __*editing*__ будет названием ветки.

После данной операции ветка уже была создана, но вы по-прежнему находитесь в основной ветке `main`. Если планируете переместиться на другую ветку, в том числе только что созданную, необходимо написать команду `git checkout` и далее вписать название ветки, на которую собираетесь перейти:
```
git checkout <name of branch>
```
Для того чтобы определить, где вы сейчас вы находитесь, Git использует специальный указатель `HEAD`, ссылающийся на текущую локальную ветку. В результате `git checkout <branch_name>`, `HEAD` переместится на иную ветку, название которой было указано в команде.

Или мы можем ввести команду `git branch` и звездочка рядом с названием ветки покажет, где мы сейчас находимся. 

Так же при создании новой ветки Git бывает необходимо сразу же переместиться на нее. В этом случае можно использовать команду:
```
$ git checkout branch <name of new branch> 
```
Это будет равносильно 2м командам:
```
$ git branch <name of new branch>

$ git checkout <name of new branch>
```
И также мы получим тот же результат при использовании `git checkout` с флагом `-b`:
```
$ git checkout -b <name of branch>
```
Ветвление позволяет разделять и оптимизировать рабочий процесс. После того, как вы убедитесь, что написанная часть проекта или программы, и её можно отправить к остальной части итоговой версии, удобно переместить его в основную ветку. Это дает возможность получить к концу разработки проекта целый продукт в одном месте.

Для этого в Git существует слияние - перенос изменений с одной ветки на другую. Сливаемая ветка (мы подразумеваем ветку, у которой берем изменения для «вливания» их в другую ветвь) никак не меняется и остается в прежнем состоянии. Такие преобразования мы получаем, применив `git merge`:
```
$ git merge <name of merged branch>
```
Операция может привести к появлению конфликтов при попытке слить ветки. Это вызвано тем, что изменения удаляют или переписывают информацию в существующих файлах. При попытке некорректного слияния Git останавливает выполнение команды, чтобы вы могли разрешить конфликт.

Существуют флаги, предназначенные специально для работы с конфликтами:

`—abort` — прерывает слияние и возвращает все к началу  
`—continue` — продолжает слияние после разрешения конфликта

Решить конфликт можно двумя способами:

- Вручную разрешить файловый конфликт. Для этого нужно самим изменить файлы, с которыми возникли проблемы. Мы получим файлы такими, какими и представляли их при попытке слияния.  
- Выбрать более подходящий файл, а от второго отказаться.

По  мере возможности и наличию новых знаний о Git, мы будем дополнять инструкцию.

![Umnik](Kotofei.jpg)